#version 450
layout(local_size_x = 64, local_size_y = 1, local_size_z = 1) in;
layout(std430, binding = 0) buffer Source{
	uvec4 dst[];
};

layout(binding = 1) buffer GroupSum{
	uint group_sum[];
};

void main(){
	uint tid = gl_GlobalInvocationID.x;
	uint grp_id = gl_WorkGroupID.x;
	if(grp_id != 0){
		uvec4 data = dst[tid];
		data += uvec4(group_sum[grp_id]);
		dst[tid] = data;
	}
}
